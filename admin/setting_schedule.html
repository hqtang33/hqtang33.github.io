<!DOCTYPE HTML>
<html>

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Stamina &mdash; Free Website Template, Free HTML5 Template by freehtml5.co</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Free HTML5 Website Template by freehtml5.co" />
  <meta name="keywords" content="free website templates, free html5, free template, free bootstrap, free website template, html5, css3, mobile first, responsive" />
  <meta name="author" content="freehtml5.co" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.11/p5.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.11/addons/p5.dom.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.11/addons/p5.sound.min.js"></script>


  <!--
	//////////////////////////////////////////////////////

	FREE HTML5 TEMPLATE
	DESIGNED & DEVELOPED by FreeHTML5.co

	Website: 		http://freehtml5.co/
	Email: 			info@freehtml5.co
	Twitter: 		http://twitter.com/fh5co
	Facebook: 		https://www.facebook.com/fh5co

	//////////////////////////////////////////////////////
	 -->

  <!-- Facebook and Twitter integration -->
  <meta property="og:title" content="" />
  <meta property="og:image" content="" />
  <meta property="og:url" content="" />
  <meta property="og:site_name" content="" />
  <meta property="og:description" content="" />
  <meta name="twitter:title" content="" />
  <meta name="twitter:image" content="" />
  <meta name="twitter:url" content="" />
  <meta name="twitter:card" content="" />

  <link href="https://fonts.googleapis.com/css?family=Work+Sans:300,400,500,700,800" rel="stylesheet">

  <!-- Animate.css -->
  <link rel="stylesheet" href="/css/animate.css">
  <!-- Font Awesome -->
  <link href="/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
  <!-- Icomoon Icon Fonts-->
  <link rel="stylesheet" href="/css/icomoon.css">
  <!-- Bootstrap  -->
  <link rel="stylesheet" href="/bootstrap/css/bootstrap.css">

  <!-- Magnific Popup -->
  <link rel="stylesheet" href="/css/magnific-popup.css">

  <!-- Owl Carousel  -->
  <link rel="stylesheet" href="/css/owl.carousel.min.css">
  <link rel="stylesheet" href="/css/owl.theme.default.min.css">

  <!-- Theme style  -->
  <link rel="stylesheet" href="/css/style.css">
  <!-- Custom CSS -->
  <link rel="stylesheet" href="/css/custom.css">

  <!-- Modernizr JS -->
  <script src="/js/modernizr-2.6.2.min.js"></script>
  <!-- FOR IE9 below -->
  <!--[if lt IE 9]>
	<script src="js/respond.min.js"></script>
	<![endif]-->
  <!-- Admin Page CSS  -->
  <link rel="stylesheet" href="/css/admin.css">


</head>

<body>

  <div class="fh5co-loader"></div>

  <div id="page">
    <nav id="header" class="fh5co-nav" role="navigation"></nav>

    <nav class="setting-nav">
      <div class="container">
        <div class="row">
          <div class="col-xs-12 text-center setting-title">
            <p>Settings</p>
          </div>
        </div>
        <div class="row">
          <div class="col-xs-12 text-center menu-2">
            <ul class="list-inline">
              <li class="active"><a href="setting_schedule.html">Schedule</a></li>
              <li><a href="setting_profile.html">Website Profile</a></li>
              <li><a href="setting_account.html">Create Account</a></li>
              <li><a href="pricing_plan.html">Modify Plan</a></li>
              <li><a href="notification.html">Feedback</a></li>
              <li><a href="add_service.html">Add Service</a></li>

            </ul>
          </div>
        </div>
      </div>
    </nav>

    <div class="setting-content">
      <div class="container">
        <form id="add-schedule-form">
          <h3>Add new Class</h3>
          <table class="table table-bordered">
            <tr>
              <td>Class ID</td>
              <td><input type="text" id="js-class-id" class="form-control" placeholder="Class ID"></td>
            </tr>
            <tr>
              <td>Day</td>
              <td>
                <select class="form-control" id="js-class-day">
                  <option disabled selected> -- select an option -- </option>
                  <option value="1">Monday</option>
                  <option value="2">Tuesday</option>
                  <option value="3">Wednesday</option>
                  <option value="4">Thursday</option>
                  <option value="5">Friday</option>
                  <option value="6">Saturday</option>
                  <option value="7">Sunday</option>
                </select>
              </td>
            </tr>

            <tr>
              <td>Class Time</td>
              <td><select class="form-control" id="js-class-time">
                <option disabled selected> -- select an timeslot -- </option>
                <option value="1">10:00 - 11:00</option>
                <option value="2">11:00 - 12:00</option>
                <option value="3">12:00 - 13:00</option>
                <option value="4">13:00 - 14:00</option>
                <option value="5">14:00 - 15:00</option>
                <option value="6">15:00 - 16:00</option>
                <option value="7">16:00 - 17:00</option>
                <option value="8">17:00 - 18:00</option>
                <option value="9">18:00 - 19:00</option>
                <option value="10">19:00 - 20:00</option>
                <option value="11">20:00 - 21:00</option>
                <option value="12">21:00 - 22:00</option>
              </select></td>
            </tr>

            <tr>
              <td>Exercise</td>
              <td><select class="form-control" id="js-class-exercise">
                <option disabled selected> -- select an class -- </option>
              </select></td>
            </tr>

            <tr>
              <td>Trainer</td>
              <td><select class="form-control" id="js-class-trainer">
                    <option disabled selected> -- select an option -- </option>

            </select></td>
            </tr>
          </table>
          <div class="row">
            <div class="form-group col-xs-12 text-left">
              <button type="submit" id="add-schedule-btn" class="btn btn-default btn-submit">Add</button>
            </div>
          </div>
        </form>
      </div>
      <br>
      <div class="container">
        <div class="row">
          <table id="schedule-timetable" class="table table-bordered">
            <tr>
              <th>Class ID</th>
              <th>Day</th>
              <th>Time</th>
              <th>Exercise</th>
              <th>Trainer</th>
              <th>Action</th>
            </tr>
          </table>


        </div>
      </div>

      <div id="footer"></div>
    </div>

    <div class="gototop js-top">
      <a href="#" class="js-gotop"><i class="icon-arrow-up"></i></a>
    </div>

    <!-- jQuery -->
    <script src="/js/jquery.min.js"></script>
    <!-- jQuery Easing -->
    <script src="/js/jquery.easing.1.3.js"></script>
    <!-- Bootstrap -->
    <script src="/js/bootstrap.min.js"></script>
    <!-- Waypoints -->
    <script src="/js/jquery.waypoints.min.js"></script>
    <!-- Stellar Parallax -->
    <script src="/js/jquery.stellar.min.js"></script>
    <!-- Carousel -->
    <script src="/js/owl.carousel.min.js"></script>
    <!-- countTo -->
    <script src="/js/jquery.countTo.js"></script>
    <!-- Magnific Popup -->
    <script src="/js/jquery.magnific-popup.min.js"></script>
    <script src="/js/magnific-popup-options.js"></script>
    <script type="text/javascript">
      $(function() {
        $("#header").load("/header.html");
        $("#footer").load("/footer.html");
      });
    </script>
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/4.1.3/firebase.js"></script>
    <!-- Main -->
    <script src="/js/main.js"></script>
    <!-- Custom -->
    <script src="/js/custom.js"></script>
    <script type="text/javascript">
      $(function() {
        var classInfoRef = firebase.database().ref('/class_Info/');
        var accountInfoRef = firebase.database().ref('/account_Info/');
        var scheduleInfoRef = firebase.database().ref('/schedule_Info/');
        classInfoRef.once('value', function(data) {
          var classInfo = data.val();
          var keys = Object.keys(classInfo);
          for (var i = 0; i < keys.length; i++) {
            var t = keys[i];
            $("#js-class-exercise").append("<option value=\"" + classInfo[t].classID + "\">" + classInfo[t].className + "</option>");

          }
        });
        /*--- Trainer Gather ---*/
        accountInfoRef.on('value', function(data) {
          var account_Info = data.val();
          var keys = Object.keys(account_Info);
          for (var i = 0; i < keys.length; i++) {
            var t = keys[i];
            var acc_level = account_Info[t].acc_level;
            if (acc_level == 2) {
              $("#js-class-trainer").append("<option value=\"" +
                account_Info[t].fname + " " + account_Info[t].lname + "\">" +
                account_Info[t].fname + " " + account_Info[t].lname + "</option>");
            }
          }
        });

        /*--- Setting Schedule ---*/
        $("#add-schedule-form").on('submit', function(e) {
          e.preventDefault();
          var scheduleClass = new Object();
          updates = {};
          scheduleClass.classID = $('#js-class-id').val();
          scheduleClass.classDay = parseInt($('#js-class-day').val());
          scheduleClass.classTime = parseInt($('#js-class-time').val());
          scheduleClass.classExeType = $('#js-class-exercise').val();
          scheduleClass.classTrainer = $('#js-class-trainer').val();

          updates['/schedule_Info/' + scheduleClass.classID] = scheduleClass;
          firebase.database().ref().update(updates).then(function() {
            $("#add-schedule-form").trigger("reset");
            $('.successMessage').html('<div class="alert alert-success" role="alert"><span class="glyphicon glyphicon-ok" aria-hidden="true"></span><span class="sr-only">Message:</span> Account Successfully Created !</div>');

          });

        });


      });
    </script>

</body>

</html>
